!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("preact")):"function"==typeof define&&define.amd?define(["preact"],t):e["my-library"]=t(e.preact)}(this,function(e){"use strict";var t=function(){var e=new Map,t=0;return{subscribe:function(r){var n=t;return t++,e.set(n,r),function(){return e.delete(n)}},next:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e.forEach(function(e){return e.apply(void 0,r)})}}},r=function(t,r){return function(e){function n(){return babelHelpers.classCallCheck(this,n),babelHelpers.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"shouldComponentUpdate",value:function(e){var t=this;return r.some(function(r){return e[r]!==t.props[r]})}},{key:"render",value:function(){return React.createElement(t,this.props)}}]),n}(e.Component)};return{store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t();return{subscribe:function(e){return r.subscribe(e)},set:function(t,n){e[t]=n,r.next()},get:function(t){return e[t]}}},Container:function(e){function t(){babelHelpers.classCallCheck(this,t);var e=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.update=e.update.bind(e),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentWillMount",value:function(){this.unsubscribe=this.props.store.subscribe(this.update)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"update",value:function(){this.forceUpdate()}},{key:"render",value:function(e){var t=e.children,r=e.store;return React.createElement("div",null,t.map(function(e){return e(r)}))}}]),t}((e=e&&e.hasOwnProperty("default")?e.default:e).Component),mapper:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=r(n,Object.keys(e));return function(r){var n=r.store,u=babelHelpers.objectWithoutProperties(r,["store"]),a=Object.assign.apply(Object,[{}].concat(babelHelpers.toConsumableArray(Object.entries(e).map(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1];return babelHelpers.defineProperty({},r,o(n))})))),s=Object.assign.apply(Object,[{}].concat(babelHelpers.toConsumableArray(Object.entries(t).map(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1];return babelHelpers.defineProperty({},r,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.apply(void 0,[n].concat(t))})}))));return React.createElement(o,babelHelpers.extends({},a,s,u))}}}}});
